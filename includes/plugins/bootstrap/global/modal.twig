{% if modal == "open" %}
{% set sizeClass = {
    1 : 'modal-fullscreen-sm-down',
    2 : '',
    3 : 'modal-fullscreen-lg-down',
    4 : 'modal-fullscreen-xl-down',
    5 : 'modal-fullscreen-xxl-down'
} %}
{% set modalClass = {
    1 : 'modal-sm',
    2 : '',
    3 : 'modal-lg',
    4 : 'modal-xl'
} %}
{% set size = options['size'] %}
{% if options['vertical_center'] %}
    {% set centeredClass = "modal-dialog-centered" %}
{% endif %}
{% if options['vertical_scroll'] %}
    {% set scrollClass = 'modal-dialog-scrollable' %}
{% endif %}

<div class="modal fade{{ whitespace(class) }}" id="{{ id }}-Modal" tabindex="-1" aria-labelledby="{{ id }}-Modal" aria-modal="true" role="dialog" aria-hidden="{{ dismiss ? 'false' : 'true' }}">
    <div class="modal-dialog{{ whitespace(modalClass[size]) }}{{ whitespace(sizeClass[size]) }}{{ whitespace(centeredClass) }}{{ whitespace(scrollClass) }}">
        <div class="modal-content">
            {% if header_content or dismiss %}
                <div class="modal-header">
                    {% if header_content %}
                        <h5 class="modal-title">{{ header_content|raw }}</h5>
                    {% endif %}
                    {% if dismiss %}
                        {% if constant("BOOTSTRAP5") is defined %}
                            <button type="button" class="btn-close" data-dismiss="modal" data-bs-dismiss="modal" aria-label="{{ locale["close"] }}">
                                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
                                    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
                                </svg>
                            </button>
                        {% else %}
                            <button type="button" class="btn btn-default btn-sm m-l-a" data-dismiss="modal">{{ get_icon("cancel", "m-r-10 fa-fw") }}{{ locale["close"] }}</button>
                        {% endif %}
                    {% endif %}
                </div>
            {% endif %}
            <div class="modal-body{{ whitespace(options["body_class"]) }}">
                {% endif %}
                {% if modal == "footer" %}
            </div>
            <div class="modal-footer">
                {% if dismiss %}

                    {% if dismiss_length > 1 %}
                        {% if constant("BOOTSTRAP5") is defined %}
                            <a class="btn btn-secondary me-auto" href="{{ dismiss|raw }}" aria-label="{{ locale["close"] }}">{{ get_icon('cancel', 'me-2') }}{{ locale['close'] }}</a>
                        {% else %}
                            <a class="btn btn-secondary m-r-a">{{ get_icon("cancel", "m-r-10 fa-fw") }}{{ locale["close"] }}</a>
                        {% endif %}
                    {% else %}
                        <button type="button" class="btn btn-secondary" data-dismiss="modal" data-bs-dismiss="modal">{{ locale["close"] }}</button>
                    {% endif %}
                {% endif %}
                {{ footer_content|raw }}
                {% endif %}
                {% if modal == "close" %}
            </div>
        </div>
    </div>
</div>
{% endif %}
